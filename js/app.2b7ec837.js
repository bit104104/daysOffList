(function(){"use strict";var t={6133:function(t,e,a){var s=a(6369),i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container bg-dark",attrs:{id:"root"}},[e("div",{staticClass:"row justify-content-center"},[e("Count",{attrs:{countDaysOff:t.countDaysOff}}),e("ClearData",{attrs:{emptyAllItem:t.emptyAllItem,resetDaysOff:t.resetDaysOff}}),e("AddItem"),e("ShowItem",{attrs:{showData:t.ShowData}})],1)])},r=[],o=(a(541),a(7658),function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-md-9 setting-data"},[e("div",{staticClass:"add"},[e("h2",[t._v("新增")]),e("div",[e("div",{staticClass:"add-list"},[e("h3",[t._v("請假條")]),e("label",{staticClass:"form-label",attrs:{for:"day"}},[t._v("日期")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addItem.day,expression:"addItem.day"}],staticClass:"form-control",attrs:{type:"date",id:"day"},domProps:{value:t.addItem.day},on:{input:function(e){e.target.composing||t.$set(t.addItem,"day",e.target.value)}}}),e("label",{staticClass:"form-label",attrs:{for:"hr"}},[t._v("時數")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.addItem.hr,expression:"addItem.hr",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"hr",min:"1",max:"8",step:"1"},domProps:{value:t.addItem.hr},on:{input:function(e){e.target.composing||t.$set(t.addItem,"hr",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),e("label",{staticClass:"form-label",attrs:{for:"item"}},[t._v("事由")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addItem.item,expression:"addItem.item"}],staticClass:"form-control",attrs:{type:"text",id:"item"},domProps:{value:t.addItem.item},on:{input:function(e){e.target.composing||t.$set(t.addItem,"item",e.target.value)}}}),e("button",{staticClass:"btn btn-primary",on:{click:t.add}},[t._v("新增")])]),e("div",{staticClass:"add-holiday"},[e("h3",[t._v("特休天數")]),e("label",{staticClass:"form-label",attrs:{for:"addDays"}},[t._v("輸入整數")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.addDays,expression:"addDays",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"addDays",required:"",min:"0",max:"31",step:"1"},domProps:{value:t.addDays},on:{input:function(e){e.target.composing||(t.addDays=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),e("button",{staticClass:"btn btn-primary",on:{click:t.add_day}},[t._v("新增")])])])])])}),n=[],d=a(691),l={name:"AddItem",data(){return{addDays:0,addItem:{id:(0,d.x0)(),day:"",hr:0,item:"",isShow:!0}}},methods:{add_day(){this.$bus.$emit("addAllDaysOff",this.addDays),this.addDays=0},add(){this.$bus.$emit("AddDayItem",this.addItem),this.addItem={id:(0,d.x0)(),day:"",hr:0,item:"",isShow:!0}}}},u=l,f=a(1001),m=(0,f.Z)(u,o,n,!1,null,"e88350b6",null),c=m.exports,h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"count-days"},t._l(t.countDaysOff,(function(a,s){return e("h2",{key:s,staticClass:"mb-0"},[e("h4",[t._v(t._s(t.title[s])),e("br"),t._v(t._s(a))])])})),0)},p=[],y={name:"Count",props:["countDaysOff"],data(){return{title:["特休總計","剩餘","已請"]}}},v=y,b=(0,f.Z)(v,h,p,!1,null,"05654bd4",null),D=b.exports,_=function(){var t=this,e=t._self._c;return t.showData.length?e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"show-data"},[e("h2",[t._v("假條一覽")]),e("div",{staticClass:"show-item"},[e("ul",t._l(t.showData,(function(t){return e("ItemList",{key:t.id,attrs:{data:t}})})),1)])])]):t._e()},w=[],I=function(){var t=this,e=t._self._c;return e("li",[t.data.isEdit?t._e():e("button",{staticClass:"btn btn-info",on:{click:function(e){return t.emitEdit(t.data)}}},[t._v("編輯")]),t.data.isEdit?e("button",{staticClass:"btn btn-info",on:{click:function(e){return t.emitUpdate(t.data,e)}}},[t._v("更新")]):t._e(),t.data.isEdit?t._e():e("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.emitDel(t.data.id)}}},[t._v("刪除")]),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.data.isEdit,expression:"!data.isEdit"}]},[t._v(t._s(t.data.day)+"- "+t._s(t.data.hr)+"hr - "+t._s(t.data.item)),e("br")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.data.isEdit,expression:"data.isEdit"}]},[e("input",{ref:"day",attrs:{type:"date"},domProps:{value:t.data.day}}),t._v(" -"),e("input",{ref:"hr",attrs:{type:"number"},domProps:{value:t.data.hr}}),t._v(" -"),e("input",{ref:"item",attrs:{type:"text"},domProps:{value:t.data.item}})])])},O=[],g={name:"ItemList",props:["data"],data(){return{test:"",test2:"",selectedDateTime:null}},computed:{test3(){return this.selectedDateTime=new Date(this.test)}},methods:{emitDel(t){confirm("是否刪除?")&&(""!=t?this.$bus.$emit("removeItem",t):alert("id不可為空值，請正確操作！"))},emitEdit(t){let e=Object.prototype.hasOwnProperty.call(t,"isEdit");e?t.isEdit=e:this.$set(t,"isEdit",!e)},emitUpdate(t){const e={id:t.id,day:this.$refs.day.value,hr:Number(this.$refs.hr.value),item:this.$refs.item.value,isShow:t.isShow};let a=Object.prototype.hasOwnProperty.call(t,"isEdit"),s=Object.values(e).every((t=>""!=t));s&&a?(t.isEdit=!a,this.$bus.$emit("updateDate",e)):(alert("欄位不能填空！"),this.$set(t,"isEdit",a))}}},C=g,$=(0,f.Z)(C,I,O,!1,null,"8aa3f9f2",null),S=$.exports,x={name:"ShowItem",props:["showData"],components:{ItemList:S}},A=x,k=(0,f.Z)(A,_,w,!1,null,"657eb888",null),E=k.exports,P=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"clear-area"},[e("button",{staticClass:"btn btn-clear",attrs:{type:"button"},on:{click:t.emptyAllItem}},[e("font-awesome-icon",{attrs:{icon:["fas","trash-alt"]}}),t._v(" 清空假條資料 ")],1),e("button",{staticClass:"btn btn-reset",attrs:{type:"button"},on:{click:t.resetDaysOff}},[e("font-awesome-icon",{attrs:{icon:["fas","undo"]}}),t._v(" 特休天數重置 ")],1)])])},L=[],N={name:"ClearData",props:["emptyAllItem","resetDaysOff"],data(){return{}}},j=N,Z=(0,f.Z)(j,P,L,!1,null,"203003b6",null),T=Z.exports,H=(a(6265),{name:"App",components:{Count:D,AddItem:c,ShowItem:E,ClearData:T},data(){return{allDaysOff:JSON.parse(localStorage.getItem("allDaysOff"))||0,workHr:8,oneHourNum:.125,dayoffList:JSON.parse(localStorage.getItem("dayoffList"))||[]}},computed:{hr_count(){const t=this.dayoffList.filter((t=>t.isShow&&t.hr)).map((t=>t.hr&&t.hr)),e=0,a=t.reduce(((t,e)=>t+e),e);return a},countDaysOff(){const t=[this.allDaysOff,this.hr_count],e=t.map(((e,a)=>{let s=0==a?e-t[1]/this.workHr:e/this.workHr,i=Math.trunc(s),r=(s-i)/this.oneHourNum;return`${i} 天 ${r} 小時`}));return e.unshift(`${t[0]} 天`),e},ShowData(){const t=this.dayoffList,e=t.filter((t=>t.isShow&&t));return e}},methods:{addAllDaysOff(t){this.allDaysOff=Number(this.allDaysOff+t)},AddDayItem(t){this.dayoffList.push(t)},removeItem(t){this.dayoffList=this.dayoffList.filter((e=>e.id!==t))},updateDate(t){this.dayoffList.forEach((e=>{e.id==t.id&&(e.day=t.day,e.hr=t.hr,e.item=t.item)}))},emptyAllItem(){localStorage.removeItem("dayoffList"),this.dayoffList=[]},resetDaysOff(){localStorage.removeItem("allDaysOff"),this.allDaysOff=0}},watch:{dayoffList:{deep:!0,handler(t){localStorage.setItem("dayoffList",JSON.stringify(t))}},allDaysOff:{handler(t){localStorage.setItem("allDaysOff",JSON.stringify(t))}}},mounted(){this.$bus.$on("addAllDaysOff",this.addAllDaysOff),this.$bus.$on("AddDayItem",this.AddDayItem),this.$bus.$on("removeItem",this.removeItem),this.$bus.$on("updateDate",this.updateDate)},beforeDestory(){this.$bus.off("addAllDaysOff"),this.$bus.off("AddDayItem"),this.$bus.off("removeItem"),this.$bus.off("updateDate")}}),J=H,M=(0,f.Z)(J,i,r,!1,null,null,null),U=M.exports,q=a(8125),B=a(8321),F=a(7749);a(5654);s.ZP.config.productionTip=!1,q.vI.add(B.mRB),s.ZP.component("font-awesome-icon",F.GN),new s.ZP({el:"#app",render:t=>t(U),beforeCreate(){s.ZP.prototype.$bus=this}})}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={exports:{}};return t[s].call(r.exports,r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,s,i,r){if(!s){var o=1/0;for(u=0;u<t.length;u++){s=t[u][0],i=t[u][1],r=t[u][2];for(var n=!0,d=0;d<s.length;d++)(!1&r||o>=r)&&Object.keys(a.O).every((function(t){return a.O[t](s[d])}))?s.splice(d--,1):(n=!1,r<o&&(o=r));if(n){t.splice(u--,1);var l=i();void 0!==l&&(e=l)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[s,i,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,r,o=s[0],n=s[1],d=s[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(d)var u=d(a)}for(e&&e(s);l<o.length;l++)r=o[l],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(u)},s=self["webpackChunkvue_cli_test"]=self["webpackChunkvue_cli_test"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(6133)}));s=a.O(s)})();
//# sourceMappingURL=app.2b7ec837.js.map