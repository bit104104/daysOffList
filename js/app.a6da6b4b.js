(function(){"use strict";var t={1457:function(t,e,a){var s=a(6369),r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container",attrs:{id:"root"}},[e("div",{staticClass:"row justify-content-center"},[e("Count",{attrs:{countDaysOff:t.countDaysOff}}),e("ClearData",{staticClass:"noPrint",attrs:{emptyAllItem:t.emptyAllItem,resetDaysOff:t.resetDaysOff}}),e("AddItem",{staticClass:"noPrint",attrs:{allDaysOff:t.allDaysOff}}),e("ShowItem",{attrs:{showData:t.ShowData}})],1)])},i=[],n=(a(541),a(7658),function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-md-9 setting-data"},[e("div",{staticClass:"add"},[e("h2",[t._v("新增")]),e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.allDaysOff,expression:"allDaysOff"}],staticClass:"add-list"},[e("h3",[t._v("請假條")]),e("label",{staticClass:"form-label",attrs:{for:"day"}},[t._v("日期")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addItem.day,expression:"addItem.day"}],staticClass:"form-control",attrs:{type:"date",id:"day"},domProps:{value:t.addItem.day},on:{input:function(e){e.target.composing||t.$set(t.addItem,"day",e.target.value)}}}),e("label",{staticClass:"form-label",attrs:{for:"hr"}},[t._v("時數")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.addItem.hr,expression:"addItem.hr",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"hr",min:"0",max:"8",step:"1"},domProps:{value:t.addItem.hr},on:{input:function(e){e.target.composing||t.$set(t.addItem,"hr",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),e("label",{staticClass:"form-label",attrs:{for:"item"}},[t._v("事由")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addItem.item,expression:"addItem.item"}],staticClass:"form-control",attrs:{type:"text",id:"item"},domProps:{value:t.addItem.item},on:{input:function(e){e.target.composing||t.$set(t.addItem,"item",e.target.value)}}}),e("button",{staticClass:"btn btn-primary",on:{click:t.add}},[t._v("新增")])]),e("div",{staticClass:"add-holiday"},[e("h3",[t._v("特休天數")]),e("label",{staticClass:"form-label",attrs:{for:"addDays"}},[t._v("新增天數")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.addDays,expression:"addDays",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",id:"addDays",required:"",min:"0",max:"31",step:"1"},domProps:{value:t.addDays},on:{input:function(e){e.target.composing||(t.addDays=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),e("button",{staticClass:"btn btn-primary",on:{click:t.add_day}},[t._v("新增")])])])])])}),o=[],d=a(691),l={name:"AddItem",props:["allDaysOff"],data(){return{addDays:0,addItem:{id:(0,d.x0)(),day:"",hr:0,item:"",isShow:!0},errorMessage:[{id:0,message:"不可為負值！"},{id:0,message:"時數只能填寫，1-8小時！"},{id:0,message:"不能為空值 或 0！"}]}},computed:{updatedId(){let t=0;return this.errorMessage.map((e=>(t++,e.id=t)))}},methods:{add_day(){if(this.addDays<0)return this.$swal("Error",this.errorMessage[0].message,"error");this.$bus.$emit("addAllDaysOff",this.addDays),this.addDays=0},add(){let t=""==this.addItem.hr;if(t)return this.$swal("Error",`時數必填，${this.errorMessage[2].message}`,"error");let e=this.addItem.hr<0,a=this.addItem.hr>8;if(e||a)return this.$swal("Error",this.errorMessage[1].message,"error");this.$bus.$emit("AddDayItem",this.addItem),this.addItem={id:(0,d.x0)(),day:"",hr:0,item:"",isShow:!0}}},watch:{updatedId(t){this.errorMessage=t}}},u=l,c=a(1001),f=(0,c.Z)(u,n,o,!1,null,"27aeedeb",null),m=f.exports,h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"count-days"},t._l(t.countDaysOff,(function(a,s){return e("h2",{key:s,staticClass:"mb-0"},[e("h4",[0==s&&"0 天"==a?e("p",[t._v("請新增天數")]):t._e(),1==s&&"0 天 0 小時"==a&&"0 天"!=t.countDaysOff[0]?e("p",[t._v("特休假請完")]):t._e(),t._v(" "+t._s(t.title[s])+" "),e("br"),t._v(" "+t._s(a)+" ")])])})),0)},p=[],y={name:"Count",props:["countDaysOff"],data(){return{title:["特休總計","剩餘","已請"]}}},v=y,b=(0,c.Z)(v,h,p,!1,null,"39f6b64e",null),w=b.exports,D=function(){var t=this,e=t._self._c;return t.showData.length?e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"show-data"},[e("h2",[t._v("假條一覽")]),e("button",{staticClass:"btn btn-primary btn-set",on:{click:t.printData}},[e("font-awesome-icon",{attrs:{icon:["fas","print"]}}),t._v("列印 ")],1),e("div",{staticClass:"show-item"},[e("ul",t._l(t.showData,(function(t){return e("ItemList",{key:t.id,staticClass:"noBreak",attrs:{data:t}})})),1)])])]):t._e()},_=[],g=function(){var t=this,e=t._self._c;return e("li",[t.data.isEdit?t._e():e("button",{staticClass:"btn btn-info",on:{click:function(e){return t.emitEdit(t.data)}}},[t._v("編輯")]),t.data.isEdit?e("button",{staticClass:"btn btn-info",on:{click:function(e){return t.emitUpdate(t.data,e)}}},[t._v("更新")]):t._e(),t.data.isEdit?t._e():e("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.emitDel(t.data.id)}}},[t._v("刪除")]),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.data.isEdit,expression:"!data.isEdit"}]},[t._v(t._s(t.data.day)+"- "+t._s(t.data.hr)+" hr - "+t._s(t.data.item)),e("br")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.data.isEdit,expression:"data.isEdit"}]},[e("input",{ref:"day",staticClass:"edit-form",attrs:{type:"date"},domProps:{value:t.data.day}}),e("span",{staticClass:"text-hyphen"},[t._v("-")]),e("input",{ref:"hr",staticClass:"edit-form",attrs:{type:"number"},domProps:{value:t.data.hr}}),e("span",{staticClass:"text-hyphen"},[t._v("-")]),e("input",{ref:"item",staticClass:"edit-form",attrs:{type:"text"},domProps:{value:t.data.item}})])])},O=[],I={name:"ItemList",props:["data"],data(){return{test:"",test2:"",selectedDateTime:null}},computed:{test3(){return this.selectedDateTime=new Date(this.test)}},methods:{emitDel(t){this.$swal("是否刪除?","將無法還原，此筆假條資料!","warning",{buttons:{cancel:{text:"取消",visible:!0},confirm:{text:"刪除",visible:!0}},dangerMode:!0}).then((e=>{e&&(""!=t?(this.$bus.$emit("removeItem",t),this.$swal("Success","刪除成功！","success")):this.$swal("Error","id空值非人為操作，請重新使用！","error"))}))},emitEdit(t){let e=Object.prototype.hasOwnProperty.call(t,"isEdit");e?t.isEdit=e:this.$set(t,"isEdit",!e)},emitUpdate(t){const e={id:t.id,day:this.$refs.day.value,hr:Number(this.$refs.hr.value),item:this.$refs.item.value,isShow:t.isShow};let a=Object.prototype.hasOwnProperty.call(t,"isEdit"),s=Object.values(e).every((t=>""!=t));s&&a?(this.$swal("Success","更新完成！","success"),t.isEdit=!a,this.$bus.$emit("updateDate",e)):(this.$swal("Error","欄位不能填空！","error"),this.$set(t,"isEdit",a))}}},$=I,C=(0,c.Z)($,g,O,!1,null,"48943f4a",null),x=C.exports,S={name:"ShowItem",props:["showData"],components:{ItemList:x},methods:{printData(){window.print()}}},E=S,P=(0,c.Z)(E,D,_,!1,null,"02959fb2",null),k=P.exports,A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"clear-area"},[e("button",{staticClass:"btn btn-clear",attrs:{type:"button"},on:{click:t.emptyAllItem}},[e("font-awesome-icon",{attrs:{icon:["fas","trash-alt"]}}),t._v(" 清空假條資料 ")],1),e("button",{staticClass:"btn btn-reset",attrs:{type:"button"},on:{click:t.resetDaysOff}},[e("font-awesome-icon",{attrs:{icon:["fas","undo"]}}),t._v(" 特休天數歸零 ")],1)])])},N=[],L={name:"ClearData",props:["emptyAllItem","resetDaysOff"]},M=L,j=(0,c.Z)(M,A,N,!1,null,"08becda5",null),Z=j.exports,T=(a(6265),{name:"App",components:{Count:w,AddItem:m,ShowItem:k,ClearData:Z},data(){return{allDaysOff:JSON.parse(localStorage.getItem("allDaysOff"))||0,workHr:8,oneHourNum:.125,dayoffList:JSON.parse(localStorage.getItem("dayoffList"))||[]}},computed:{hr_count(){const t=this.dayoffList.filter((t=>t.isShow&&t.hr)).map((t=>t.hr&&t.hr)),e=0,a=t.reduce(((t,e)=>t+e),e);return a},countDaysOff(){const t=[this.allDaysOff,this.hr_count],e=t.map(((e,a)=>{let s=0==a?e-t[1]/this.workHr:e/this.workHr,r=Math.trunc(s),i=(s-r)/this.oneHourNum;return r<0||i<0?"0 天 0 小時":`${r} 天 ${i} 小時`}));return e.unshift(`${t[0]} 天`),e},ShowData(){const t=this.dayoffList,e=t.filter((t=>t.isShow&&t));return e}},methods:{addAllDaysOff(t){this.allDaysOff=Number(this.allDaysOff+t)},AddDayItem(t){this.dayoffList.push(t)},removeItem(t){this.dayoffList=this.dayoffList.filter((e=>e.id!==t))},updateDate(t){this.dayoffList.forEach((e=>{e.id==t.id&&(e.day=t.day,e.hr=t.hr,e.item=t.item)}))},emptyAllItem(){this.$swal("是否清空?","清空後將無法還原資料!","warning",{buttons:{cancel:{text:"取消",visible:!0},confirm:{text:"清空",visible:!0}},dangerMode:!0}).then((t=>{1==t&&(localStorage.removeItem("dayoffList"),this.dayoffList=[],this.$swal("Success","清空成功！","success"))}))},resetDaysOff(){this.$swal("特休總計是否歸零?","總計天數會重置，但原有的假條資料會保留!","warning",{buttons:{cancel:{text:"取消",visible:!0},confirm:{text:"歸零",visible:!0}},dangerMode:!0}).then((t=>{1==t&&(localStorage.removeItem("allDaysOff"),this.allDaysOff=0,this.$swal("Success","歸零成功！","success"))}))}},watch:{dayoffList:{deep:!0,handler(t){localStorage.setItem("dayoffList",JSON.stringify(t))}},allDaysOff:{handler(t){localStorage.setItem("allDaysOff",JSON.stringify(t))}}},mounted(){this.$bus.$on("addAllDaysOff",this.addAllDaysOff),this.$bus.$on("AddDayItem",this.AddDayItem),this.$bus.$on("removeItem",this.removeItem),this.$bus.$on("updateDate",this.updateDate)},beforeDestory(){this.$bus.off("addAllDaysOff"),this.$bus.off("AddDayItem"),this.$bus.off("removeItem"),this.$bus.off("updateDate")}}),H=T,J=(0,c.Z)(H,r,i,!1,null,null,null),U=J.exports,B=a(8125),q=a(8321),F=a(7749),G=a(8188),R=a.n(G);a(5654);s.ZP.config.productionTip=!1,B.vI.add(q.mRB),s.ZP.component("font-awesome-icon",F.GN),s.ZP.use(R()),new s.ZP({el:"#app",render:t=>t(U),beforeCreate(){s.ZP.prototype.$bus=this}})}},e={};function a(s){var r=e[s];if(void 0!==r)return r.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,s,r,i){if(!s){var n=1/0;for(u=0;u<t.length;u++){s=t[u][0],r=t[u][1],i=t[u][2];for(var o=!0,d=0;d<s.length;d++)(!1&i||n>=i)&&Object.keys(a.O).every((function(t){return a.O[t](s[d])}))?s.splice(d--,1):(o=!1,i<n&&(n=i));if(o){t.splice(u--,1);var l=r();void 0!==l&&(e=l)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[s,r,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var r,i,n=s[0],o=s[1],d=s[2],l=0;if(n.some((function(e){return 0!==t[e]}))){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(d)var u=d(a)}for(e&&e(s);l<n.length;l++)i=n[l],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(u)},s=self["webpackChunkvue_cli_test"]=self["webpackChunkvue_cli_test"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(1457)}));s=a.O(s)})();
//# sourceMappingURL=app.a6da6b4b.js.map