(function(){"use strict";var t={8666:function(t,e,a){var s=a(6369),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"root"}},[e("div",{staticClass:"todo-container2"},[e("div",{staticClass:"reset-btn"},[e("button",{staticClass:"btn btn-danger",on:{click:t.emptyAllItem}},[t._v("清空假條資料")]),e("button",{staticClass:"btn btn-danger",on:{click:t.resetDaysOff}},[t._v("特休天數重置")])]),e("div",{staticClass:"todo-wrap2"},[e("Count",{attrs:{countDaysOff:t.countDaysOff}}),e("AddItem"),e("ShowItem",{attrs:{showData:t.ShowData}})],1)])])},r=[],n=(a(541),a(7658),function(){var t=this,e=t._self._c;return e("div",{staticClass:"setting-data"},[e("div",{staticClass:"add"},[e("h2",[t._v("新增")]),e("div",[e("div",{staticClass:"add-list"},[e("h3",[t._v("請假條")]),e("label",{attrs:{for:"day"}},[t._v("日期")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addItem.day,expression:"addItem.day"}],attrs:{type:"date"},domProps:{value:t.addItem.day},on:{input:function(e){e.target.composing||t.$set(t.addItem,"day",e.target.value)}}}),e("label",{attrs:{for:"hr"}},[t._v("時數")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.addItem.hr,expression:"addItem.hr",modifiers:{number:!0}}],attrs:{type:"number",min:"1",max:"8",step:"1"},domProps:{value:t.addItem.hr},on:{input:function(e){e.target.composing||t.$set(t.addItem,"hr",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),e("label",{attrs:{for:"item"}},[t._v("事由")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.addItem.item,expression:"addItem.item"}],attrs:{type:"text"},domProps:{value:t.addItem.item},on:{input:function(e){e.target.composing||t.$set(t.addItem,"item",e.target.value)}}}),e("button",{on:{click:t.add}},[t._v("新增")])]),e("div",{staticClass:"add-holiday"},[e("h3",[t._v("特休天數")]),e("label",{attrs:{for:"天數"}},[t._v("輸入整數")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.addDays,expression:"addDays",modifiers:{number:!0}}],attrs:{type:"number",required:"",min:"0",max:"31",step:"1"},domProps:{value:t.addDays},on:{input:function(e){e.target.composing||(t.addDays=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),e("button",{on:{click:t.add_day}},[t._v("新增")])])])])])}),o=[],d=a(691),u={name:"AddItem",data(){return{addDays:0,addItem:{id:(0,d.x0)(),day:"",hr:0,item:"",isShow:!0}}},methods:{add_day(){this.$bus.$emit("addAllDaysOff",this.addDays),this.addDays=0},add(){this.$bus.$emit("AddDayItem",this.addItem),this.addItem={id:(0,d.x0)(),day:"",hr:0,item:"",isShow:!0}}}},l=u,f=a(1001),m=(0,f.Z)(l,n,o,!1,null,"34a87b02",null),c=m.exports,h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"count-days"},t._l(t.countDaysOff,(function(a,s){return e("h2",{key:s},[t._v(" "+t._s(t.title[s])),e("br"),t._v(t._s(a)+" ")])})),0)},v=[],p={name:"Count",props:["countDaysOff"],data(){return{title:["特休總計","剩餘","已請"]}}},y=p,b=(0,f.Z)(y,h,v,!1,null,"208e59fe",null),_=b.exports,D=function(){var t=this,e=t._self._c;return t.showData.length?e("div",{staticClass:"show-data"},[e("h2",[t._v("假條一覽")]),e("div",{staticClass:"show-item"},[e("ul",t._l(t.showData,(function(t){return e("ItemList",{key:t.id,attrs:{data:t}})})),1)])]):t._e()},w=[],I=function(){var t=this,e=t._self._c;return e("li",[t.data.isEdit?t._e():e("button",{staticClass:"btn btn-edit",on:{click:function(e){return t.emitEdit(t.data)}}},[t._v("編輯")]),t.data.isEdit?e("button",{staticClass:"btn btn-edit",on:{click:function(e){return t.emitUpdate(t.data,e)}}},[t._v("更新")]):t._e(),e("button",{staticClass:"btn btn-danger",on:{click:function(e){return t.emitDel(t.data.id)}}},[t._v("刪除")]),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.data.isEdit,expression:"!data.isEdit"}]},[t._v(t._s(t.data.day)+"- "+t._s(t.data.hr)+"hr - "+t._s(t.data.item)),e("br")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.data.isEdit,expression:"data.isEdit"}]},[e("input",{ref:"day",attrs:{type:"text"},domProps:{value:t.data.day}}),t._v(" -"),e("input",{ref:"hr",attrs:{type:"number"},domProps:{value:t.data.hr}}),t._v(" -"),e("input",{ref:"item",attrs:{type:"text"},domProps:{value:t.data.item}})])])},O=[],g={name:"ItemList",props:["data"],methods:{emitDel(t){confirm("是否刪除?")&&(""!=t?this.$bus.$emit("removeItem",t):alert("id不可為空值，請正確操作！"))},emitEdit(t){let e=Object.prototype.hasOwnProperty.call(t,"isEdit");e?t.isEdit=e:this.$set(t,"isEdit",!e)},emitUpdate(t){const e={id:t.id,day:this.$refs.day.value,hr:Number(this.$refs.hr.value),item:this.$refs.item.value,isShow:t.isShow};let a=Object.prototype.hasOwnProperty.call(t,"isEdit"),s=Object.values(e).every((t=>""!=t));s&&a?(t.isEdit=!a,this.$bus.$emit("updateDate",e)):(alert("欄位不能填空！"),this.$set(t,"isEdit",a))}}},$=g,x=(0,f.Z)($,I,O,!1,null,"14a9aac1",null),C=x.exports,S={name:"ShowItem",props:["showData"],components:{ItemList:C}},k=S,A=(0,f.Z)(k,D,w,!1,null,"be806db8",null),E=A.exports,L=(a(6265),{name:"App",components:{Count:_,AddItem:c,ShowItem:E},data(){return{allDaysOff:JSON.parse(localStorage.getItem("allDaysOff"))||0,workHr:8,oneHourNum:.125,dayoffList:JSON.parse(localStorage.getItem("dayoffList"))||[]}},computed:{hr_count(){const t=this.dayoffList.filter((t=>t.isShow&&t.hr)).map((t=>t.hr&&t.hr)),e=0,a=t.reduce(((t,e)=>t+e),e);return a},countDaysOff(){const t=[this.allDaysOff,this.hr_count],e=t.map(((e,a)=>{let s=0==a?e-t[1]/this.workHr:e/this.workHr,i=Math.trunc(s),r=(s-i)/this.oneHourNum;return`${i} 天 ${r} 小時`}));return e.unshift(`${t[0]} 天`),e},ShowData(){const t=this.dayoffList,e=t.filter((t=>t.isShow&&t));return e}},methods:{addAllDaysOff(t){this.allDaysOff=Number(this.allDaysOff+t)},AddDayItem(t){this.dayoffList.push(t)},removeItem(t){this.dayoffList=this.dayoffList.filter((e=>e.id!==t))},updateDate(t){this.dayoffList.forEach((e=>{e.id==t.id&&(e.day=t.day,e.hr=t.hr,e.item=t.item)}))},emptyAllItem(){localStorage.removeItem("dayoffList"),this.dayoffList=[]},resetDaysOff(){localStorage.removeItem("allDaysOff"),this.allDaysOff=0}},watch:{dayoffList:{deep:!0,handler(t){localStorage.setItem("dayoffList",JSON.stringify(t))}},allDaysOff:{handler(t){localStorage.setItem("allDaysOff",JSON.stringify(t))}}},mounted(){this.$bus.$on("addAllDaysOff",this.addAllDaysOff),this.$bus.$on("AddDayItem",this.AddDayItem),this.$bus.$on("removeItem",this.removeItem),this.$bus.$on("updateDate",this.updateDate)},beforeDestory(){this.$bus.off("addAllDaysOff"),this.$bus.off("AddDayItem"),this.$bus.off("removeItem"),this.$bus.off("updateDate")}}),N=L,P=(0,f.Z)(N,i,r,!1,null,null,null),j=P.exports;s.ZP.config.productionTip=!1,new s.ZP({el:"#app",render:t=>t(j),beforeCreate(){s.ZP.prototype.$bus=this}})}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={exports:{}};return t[s](r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,s,i,r){if(!s){var n=1/0;for(l=0;l<t.length;l++){s=t[l][0],i=t[l][1],r=t[l][2];for(var o=!0,d=0;d<s.length;d++)(!1&r||n>=r)&&Object.keys(a.O).every((function(t){return a.O[t](s[d])}))?s.splice(d--,1):(o=!1,r<n&&(n=r));if(o){t.splice(l--,1);var u=i();void 0!==u&&(e=u)}}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[s,i,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,r,n=s[0],o=s[1],d=s[2],u=0;if(n.some((function(e){return 0!==t[e]}))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(d)var l=d(a)}for(e&&e(s);u<n.length;u++)r=n[u],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(l)},s=self["webpackChunkvue_cli_test"]=self["webpackChunkvue_cli_test"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(8666)}));s=a.O(s)})();
//# sourceMappingURL=app.18d81bfb.js.map